from process import *
from hexdump import hexdump

base = b'\x08\x00f!\x00\x108C\x7f\xdeh\x8e\xf5\x93\xff\xff\x00\xc1?\x00\x00\x00\x00B\x01^\x00\x02\x00\x803\x18\x00\x81\x03\x00\x00\x00K\n\x00\x02\x00\x1b\x00\xd7\x00B\x00B\x00s\x0f\x00\x07\x0c\t\x0b\x01\x02\x03\x04\x05\x06\x07\x08\n\x00\x00v\x14\x00\x08\x00\x00\x00\xef\x03\x01\x00\x00\x08\x80\xdc\x00\xdf\xaa\x0b \x00\x02\x01w\xf0\x01\x10;8\x03\xc0\xff}\x99\x01\xfb\xbf\xfa\xbb\xff\x00\x00\x00\r\x00\x00\xa1\x01\x00\x00\xcb\x01S\xa4\x01\x96\x00\x00\x96\x03\xef\x00)\x02\xf8\x00&\x02Qm\x01-\x02l5Y/\x00\x1c\x02\x00\xbdQ\xd8\x00\xb0\x01H\x0cQ\xe1\x00\xc3\x01:\x0cQ\x82\x00\x00\x01W\r\x06\xc8\x02^\x03\xde\x00\x1d\x02`\x00\x00\x00\x00\x06\x15\x06T\x01\x0c\x02\xde\x00\x06^\x01\xc1\x01\xfb\xff\x1a\x02\x06\x05\x03\xff\x01\xa3\x00w\x02\x06\xf7\x01D\x02\x94\x00\xa0\x02F\xf1\x00\x00\x00B\x00\'\xf3\xf0o\x00\x8c\x02\x06\x9a\x00\x19\x02\'\x00\x1c\x02F\xde\x02\x00\x00Y\x00`\x00\x00\x00\x00\x06l\x03\x8e\x02)\x00\x81\x03\x06$\x03\x00\x00\xed\x00\x00\x00\x06\x03\x05\x00\x00\xe2\x00\x00\x00\x06\x02\x01\x13\x03/\x00/\x031W\xb5\xb7\x00%\x00\x01\x10\x01\x12\x02"\xff\x14\x00\x06\x86\x03\x00\x00\x0f\x01\x00\x00\'\x1f\xfa\x90\x00\xc8\x00\x06\xeb\x03\xee\x01\xb0\x00\x84\x02`\x00\x00\x00\x00\x05\x99\x00\xf4\x01\xb0\x00d\x00G\x1f\x01\xde\x01Kd`\x00\x00\x00\x00\x06\xa8\x02\x1f\x02\x84\x00"\x02`\x00\x00\x00\x00\x06\xd5\x04\x00\x00\xb0\x01\x00\x00\x06\xd7\x04\x00\x00&\x02\x00\x00\x06\xd6\x04\x00\x00\x9a\x02\x00\x00\x06 \x01\x11\x02-\x00R\x02`\x00\x00\x00\x00\x06\xb8\x03\xd2\x01d\x00q\x02`\x00\x00\x00\x00\x06\xb8\x03\xea\x01d\x008\x02\x05\xdd\x00\xd2\x01\x82\x00\xd0\x00G\xee\x00,\x01p\xfa`\x00\x00\x00\x00\x06v\x04\x00\x00\xfa\x00\x00\x00F)\x03\x00\x00Z\x00`\x00\x00\x00\x00`\x00\x00\x00\x00`\x00\x00\x00\x00`\x00\x00\x00\x00`\x00\x00\x00\x00F"\x02\x00\x00;\x00`\x00\x00\x00\x00`\x00\x00\x00\x00\x065\x04\x00\x00\x97\x00\x00\x00\x06#\x01\x00\x00{\x01\x00\x00\x06&\x01\x00\x00\xdb\x00\x00\x00\x06.\x01\x00\x00\xa9\x01\x00\x00\x06$\x01\x00\x00<\x02\x00\x00`\x00\x00\x00\x00`\x00\x00\x00\x00`\x00\x00\x00\x00`\x00\x00\x00\x00\r\x11\x02Z\x00\xd6\x01\x1c\x00'
# print(hexdump(base))

proc, = GetProcesses('Gw.exe')
size, = proc.read(0x00F05260, 'I')
data, = proc.read(0x16069D68, f'{size}s')

print(data)

assert size == len(base)
for i, (a, b) in enumerate(zip(base, data)):
    if a != b:
        print(f'{i} 0x{i:X} {a:02X} {b:02X}')
